!function e(n,t,i){function a(o,s){if(!t[o]){if(!n[o]){var d="function"==typeof require&&require;if(!s&&d)return d(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[o]={exports:{}};n[o][0].call(l.exports,function(e){var t=n[o][1][e];return a(t||e)},l,l.exports,e,n,t,i)}return t[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({1:[function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=e("./modules/EventService"),r=i(a),o=e("./modules/ModalWindow"),s=i(o),d=e("./modules/Calendar"),c=i(d);document.addEventListener("DOMContentLoaded",function(){fetch("/bsa-2017-js-calendar/repository/events.json").then(function(e){return e.json()}).then(function(e){new c.default(new r.default(e),new s.default)}).catch(function(e){console.log(e)})})},{"./modules/Calendar":2,"./modules/EventService":3,"./modules/ModalWindow":4}],2:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),r=function(){function e(n,t,a,r){i(this,e),this.calendar=$(a||"#events-calendar"),this.eventService=n,this.modalWindow=t,this.locale=r||"en",moment.locale(r),this.setEventsListeners(),this.show(moment().year())}return a(e,[{key:"setEventsListeners",value:function(){var e=this;e.calendar.on("click",".prev",function(){e.show(--e.year)}).on("click",".next",function(){e.show(++e.year)}).on("click",".date-event",function(){var n=e.eventService.findById($(this).data("event-id"));void 0!==n&&e.modalWindow.render(n).show()})}},{key:"show",value:function(e){var n,t=this,i=[],a="",r=0,o=0,s=t.getWeekDaysShort(),d=moment.months();t.year=e;for(var c=function(c){n=moment([e,c,1]),i.push('<div class="MMMM">'+d[c]+"</div>"+s+'<div class="MM">'+_.range(1,n.daysInMonth()+1).reduce(function(i,a){var r=e+"-"+("00"+(c+1)).slice(-2)+"-"+("00"+a).slice(-2);return i+='<a href="#" class="'+(e==moment().year()&&c==moment().month()&&a==moment().date()?"active ":"")+'D" '+(1==a?'data-d="'+n.day()+'"':"")+' data-date="'+r+'" draggable="false"><span class="num">'+a+'</span><div class="date-content">'+t.eventService.renderEvents(r)+"</div></a>"},"")+"</div>"),r=Math.max(r,Math.ceil((n.day()+n.daysInMonth())/7)),3!=c&&7!=c&&11!=c||(a+='<div class="M" data-w="'+r+'">'+i.join('</div><div class="M" data-w="'+r+'">')+"</div>",o+=r,r=0,i=[])},l=0;l<=11;l++)c(l);t.renderHtml(a,o),t.calendar.find(".date-event").popup()}},{key:"getWeekDaysShort",value:function(){return moment.weekdaysShort().reduce(function(e,n){return e+='<div class="ddd" data-ddd="'+n+'"></div>'},"")}},{key:"renderHtml",value:function(e,n){return this.calendar.html('<nav>\n  <a href="#" class="nav prev" draggable="false">\n    <svg viewBox="0 0 512 512"><path d="M189.8,349.7c3.1-3.1,3-8,0-11.3L123.4,264H408c4.4,0,8-3.6,8-8c0-4.4-3.6-8-8-8H123.4l66.3-74.4c2.9-3.4,3.2-8.1,0.1-11.2c-3.1-3.1-8.5-3.3-11.4-0.1c0,0-79.2,87-80,88S96,253.1,96,256s1.6,4.9,2.4,5.7s80,88,80,88c1.5,1.5,3.6,2.3,5.7,2.3C186.2,352,188.2,351.2,189.8,349.7z"/></svg>\n  </a>\n  <div class="title">\n    <strong>'+this.year+'</strong>\n  </div>\n  <a href="#" class="nav next" draggable="false">\n    <svg viewBox="0 0 512 512"><path d="M322.2,349.7c-3.1-3.1-3-8,0-11.3l66.4-74.4H104c-4.4,0-8-3.6-8-8c0-4.4,3.6-8,8-8h284.6l-66.3-74.4c-2.9-3.4-3.2-8.1-0.1-11.2c3.1-3.1,8.5-3.3,11.4-0.1c0,0,79.2,87,80,88s2.4,2.8,2.4,5.7s-1.6,4.9-2.4,5.7s-80,88-80,88c-1.5,1.5-3.6,2.3-5.7,2.3C325.8,352,323.8,351.2,322.2,349.7z"/></svg>\n  </a>\n</nav>\n<div class="YYYY" data-w="'+n+'">'+e+"</div>\n"),this}}]),e}();t.default=r},{}],3:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),r=function(){function e(n){i(this,e),this.events=n,this.eventsLabelsColors=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black"]}return a(e,[{key:"findById",value:function(e){return this.events.find(function(n){return n.id===e})}},{key:"renderEvents",value:function(e){var n=this;return this.events.filter(function(n){return n.date===e}).reduce(function(e,t){return e+='\n<div class="date-event ui mini empty circular label '+_.sample(n.eventsLabelsColors)+'"\n    data-event-id="'+t.id+'" data-content="'+t.title+'"\n    data-position="top center" data-variation="tiny inverted"></div>'},"")}}]),e}();t.default=r},{}],4:[function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),r=function(){function e(n){i(this,e),this.modalWindow=$(n||"#events-calendar-modal").modal({transition:"vertical flip",onShow:function(){$(this).find(".participant").popup({inline:!0})}})}return a(e,[{key:"show",value:function(){return this.modalWindow.modal("show")}},{key:"hide",value:function(){return this.modalWindow.modal("hide")}},{key:"toggle",value:function(){return this.modalWindow.modal("toggle")}},{key:"render",value:function(e){return this.modalWindow.html('<div class="ui header">'+e.title+'<div class="sub header">'+moment(e.date).format("D MMMM YYYY")+" &mdash; #"+e.id+'</div></div><div class="content">'+(e.description?"<p><strong>"+e.description+"</strong></p>":"")+(e.todo_list?e.todo_list.reduce(function(e,n){return e+='<div class="item">'+n+"</div>"},'<div class="ui bulleted list">')+"</div>":"")+(e.participants?'<div class="ui divider"></div>'+e.participants.reduce(function(e,n){return e+='<div class="item"><a href="'+(n.profile?n.profile:"#")+'" target="_blank" class="participant" data-content="'+n.name+'" data-position="top center" data-variation="tiny inverted">'+(n.avatar?'<img class="ui avatar image" src="'+n.avatar+'">':'<i class="user circle big grey fitted icon"></i>')+"</a></div>"},'<div class="ui horizontal list">')+"</div>":"")+'</div><div class="actions"><div class="ui basic cancel fluid button"><strong>Ok, I got it! Thanks!</strong></div></div>'),this}}]),e}();t.default=r},{}]},{},[1]);